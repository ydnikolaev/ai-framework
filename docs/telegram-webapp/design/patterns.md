# üé® Telegram Mini Apps Design Patterns

> **Goal:** Create apps that feel like a native part of Telegram.

---

## üì± Core Principles

1.  **Mobile-First:** –î–∏–∑–∞–π–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º, —Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
2.  **Native Feel:** –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–µ (–ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏, —Å–≤–∞–π–ø—ã).
3.  **To-The-Point:** –ú–∏–Ω–∏–º—É–º –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Ñ–æ–∫—É—Å –Ω–∞ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ.

---

## üé® Color Schemes

–ú—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Ä–∞–µ–º—Å—è –Ω–∞ **Core Design System**. 

> üìï **–ì–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫:** [Design System](../../../core/design/design-system.md)
> *–¢–∞–º –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Ç–æ–∫–µ–Ω—ã (`bg-primary`, `text-primary` –∏ —Ç.–¥.), –∫–æ—Ç–æ—Ä—ã–µ –º–∞–ø–ø—è—Ç—Å—è –Ω–∞ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram.*

### ‚ö†Ô∏è NO Manual Theme Detection
**CRITICAL:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—ã—Ç–∞–π—Å—è –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–µ–º—É —á–µ—Ä–µ–∑ JS (`isDark`, luminance check). 
Telegram –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∏ —Ü–≤–µ—Ç–Ω—ã–µ —Ç–µ–º—ã, –≥–¥–µ `colorScheme` –º–æ–∂–µ—Ç –≤—Ä–∞—Ç—å.

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ –≤–µ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –ü—É—Å—Ç—å –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –Ω—É–∂–Ω—ã–π —Ü–≤–µ—Ç.

### Quick Ref: Telegram Variables (CSS)
–ú—ã –º–∞–ø–∏–º –∏—Ö –≤ `tailwind.config.js`, –Ω–æ –≤–æ—Ç "—Å—ã—Ä—ã–µ" –∑–Ω–∞—á–µ–Ω–∏—è:

| Variable | Tailwind Token | Usage |
|---|---|---|
| `--tg-theme-bg-color` | `bg-primary` | –§–æ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–±–µ–ª—ã–π/—á–µ—Ä–Ω—ã–π) |
| `--tg-theme-secondary-bg-color` | `bg-secondary` | –§–æ–Ω –ø–æ–¥–ª–æ–∂–∫–∏ (—Å–µ—Ä—ã–π/—á–µ—Ä–Ω—ã–π) |
| `--tg-theme-section-bg-color` | `bg-primary` (usually) | –§–æ–Ω –ø–ª–∞—à–µ–∫ (Grouped style) |
| `--tg-theme-text-color` | `text-primary` | –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç |
| `--tg-theme-hint-color` | `text-secondary` | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –∏–∫–æ–Ω–∫–∏, —à–µ–≤—Ä–æ–Ω—ã |
| `--tg-theme-section-separator-color`| `border-separator` | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ (–Ω–æ –ª—É—á—à–µ CSS custom) |

---

## üåó Native Theming & Dark Mode

–ú—ã —Ä–µ–∞–ª–∏–∑—É–µ–º **iOS Grouped Style** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è Mini Apps):

1. **Page Background:** `bg-secondary` (–°–µ—Ä—ã–π/–ß–µ—Ä–Ω—ã–π).
2. **Content Blocks:** `bg-primary` (–ë–µ–ª—ã–π/–¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π) —Å–æ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è–º–∏ `rounded-xl`.
3. **Cells (Items):** `bg-transparent`. –Ø—á–µ–π–∫–∏ **–Ω–µ –∏–º–µ—é—Ç** —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–∞, –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ñ–æ–Ω –±–ª–æ–∫–∞.

### Separators & Icons
- **Separators:** –ò—Å–ø–æ–ª—å–∑—É–π CSS –ø—Å–µ–≤–¥–æ-—ç–ª–µ–º–µ–Ω—Ç—ã (`::after`) —Å —Ü–≤–µ—Ç–æ–º, –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º –æ—Ç `hint-color` –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º iOS `rgba(84, 84, 88, 0.5)`. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π `div` –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–æ–±–µ—Ä—Ç–∫–∏.
- **Icons/Chevrons:** –ò—Å–ø–æ–ª—å–∑—É–π `text-secondary` (hint color). –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π `opacity`.

---

## üß≠ UX Patterns

–û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (Loading, Error, Empty states) —è–≤–ª—è—é—Ç—Å—è –µ–¥–∏–Ω—ã–º–∏ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

> üìò **UX –ì–∞–π–¥–ª–∞–π–Ω—ã:** [Frontend Patterns](../../../core/architecture/frontend-patterns.md)

---

## üìê Layout

- **Safe Areas:** –£—á–∏—Ç—ã–≤–∞–π "—á—ë–ª–∫—É" –∏ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞.
  - `var(--tg-viewport-height)` ‚Äî –†–µ–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –≤—å—é–ø–æ—Ä—Ç–∞
  - `var(--tg-safe-area-inset-top)` ‚Äî –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É (status bar)
  - `var(--tg-safe-area-inset-bottom)` ‚Äî –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É (home indicator)

- **Bottom Sheets:** –î–ª—è –º–µ–Ω—é –∏ –¥–µ—Ç–∞–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π —à—Ç–æ—Ä–∫–∏ (–∫–∞–∫ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–º Telegram), –∞ –Ω–µ –Ω–æ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã.
- **Micro-animations:** 60fps –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ.

---

## ‚ö° Haptics (–¢–∞–∫—Ç–∏–ª—å–Ω–æ—Å—Ç—å)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω **—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

- **Impact:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ (Light/Medium).
- **Notification:** –ü—Ä–∏ —É—Å–ø–µ—Ö–µ (Success) –∏–ª–∏ –æ—à–∏–±–∫–µ (Error).
- **Selection:** –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ —Å–ø–∏—Å–∫–æ–≤/–ø–∏–∫–µ—Ä–æ–≤ (Selection).

‚û°Ô∏è *–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [features/haptics.md](../features/haptics.md)*

---

## üñºÔ∏è UI Components

- **Loader:** –ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Telegram Loader (`WebApp.MainButton.showProgress()`) –∏–ª–∏ –ø–æ—Ö–æ–∂–∏–π –¥–∏–∑–∞–π–Ω.
- **Main Button:** –ë–æ–ª—å—à–∞—è –∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ (`WebApp.MainButton`). –ò—Å–ø–æ–ª—å–∑—É–π –µ—ë –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (Save, Pay, Confirm).
